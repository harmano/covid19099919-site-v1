<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

  <link href="//code.ionicframework.com/nightly/css/ionic.css" rel="stylesheet">
  <script src="//code.ionicframework.com/nightly/js/ionic.bundle.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-google-chart/0.1.0/ng-google-chart.min.js" type="text/javascript"></script>
  <script type="text/javascript">
      angular.module('chartApp', ['ionic', 'googlechart'])

    .run(function($ionicPlatform) {
    $ionicPlatform.ready(function() {
      if (window.cordova && window.cordova.plugins.Keyboard) {
        cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
        cordova.plugins.Keyboard.disableScroll(true);
      }
      if (window.StatusBar) {
        StatusBar.styleDefault();
      }
    });
    })

    .controller("GenericChartCtrl", function($scope) {
    $scope.chartObject = {};

    $scope.chartObject.type = "PieChart";

    $scope.chartObject.data = {
      "cols":
      [
        {id: "t", label: "Response", type: "string"},
        {id: "h", label: "Gender", type: "number"}
      ]
    };

     $scope.chartObject.data["rows"]=[];
    idata=[{"count":12,"gender":"Recovered"},{"count":14,"gender":"Deaths"},{"count":14,"gender":"Active Cases"}];

    idata.forEach(function(product, index) {
      console.log(product.count);
      console.log(product.gender);
      row={c: [ {v: product.gender}, {v: product.count}]};
      $scope.chartObject.data["rows"].push(row);
    });

    /*
    $scope.chartObject.data["rows"]= [
        {c: [ {v: "Male"}, {v: 10} ]},
        {c: [ {v: "recovered"}, {v: 11} ]}
              ]
    */
    $scope.chartObject.options = {
      title: 'Percentage',
      height: 400
    };
    });
  </script>
</head>

<div ng-app="chartApp">

  <ion-pane>
    <ion-header-bar class="bar-stable">
    </ion-header-bar>
    <ion-content ng-controller="GenericChartCtrl">

      <div class = "row responsive-sm">
   <div class = "col ">
     <div google-chart chart="chartObject" style="" class="has-footer">
      </div>
  </div>

</div>


    </ion-content>
  </ion-pane>
</div>

</html>
